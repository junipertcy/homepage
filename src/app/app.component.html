<!--<mat-progress-bar mode="determinate" value="40"></mat-progress-bar>-->
<ng-template #zeroTrigger>
  <div>
    <i nz-icon nzType="menu-fold" nzTheme="outline"></i>
  </div>
</ng-template>
<nz-layout class="layout" nz-row nzJustify="center" *ngIf="isLoaded">
  <nz-header>
    <a href="/">
      <h1 id="logo-title">Tzu-Chi Yen</h1>
    </a>
    <div nz-row nzJustify="end">
      <!-- <div nz-col nzSpan="2">
        <nz-tag class="tag" id="resume" [nzColor]="'purple'">
          <a href="{{ resume_file }}" target="_blank" style="color: #a107dd">
            One-Page Resume
          </a>
        </nz-tag>
      </div> -->
      <div nz-col nzSpan="2">
        <nz-tag class="tag" id="vitae" [nzColor]="'volcano'">
          <a href="{{ cv_file }}" target="_blank" style="color: #fa541c">
            Full CV
          </a>
        </nz-tag>
      </div>
      <div nz-col nzSpan="2">
        <mat-icon
          class="tag"
          role="button"
          aria-label="Toggle dark mode"
          (click)="toggleDarkMode()"
        >
          {{ isDarkMode ? "brightness_7" : "nights_stay" }}
        </mat-icon>
      </div>
    </div>
  </nz-header>
  <div nz-row>
    <div nz-col nzSpan="4">
      <nz-sider
        nzCollapsible
        nz-col
        nzSpan="4"
        nzTheme="light"
        [(nzCollapsed)]="isCollapsed"
        [nzBreakpoint]="'md'"
        [nzCollapsedWidth]="0"
        [nzZeroTrigger]="zeroTrigger"
        [nzWidth]="150"
      >
        <div class="menu-container">
          <ul nz-menu nzMode="inline" [nzInlineCollapsed]="isCollapsed">
            <li
              nz-menu-item
              class="menu-item"
              routerLinkActive="ant-menu-item-selected"
              routerLink="/publications"
            >
              <span id="menu">Publications</span>
            </li>
            <li
              nz-menu-item
              class="menu-item"
              routerLinkActive="ant-menu-item-selected"
              routerLink="/talks"
            >
              <span id="menu">Talks</span>
            </li>
            <li
              nz-menu-item
              class="menu-item"
              routerLinkActive="ant-menu-item-selected"
              routerLink="/teaching"
            >
              <span id="menu">Teaching</span>
            </li>

            <ul
              nz-menu
              nzMode="inline"
              [nzInlineCollapsed]="isCollapsed"
              class="bottom-menu"
            >
              <li
                nz-menu-item
                class="menu-item"
                routerLinkActive="ant-menu-item-selected"
                routerLink="/activities"
              >
                <span id="menu">Activities</span>
              </li>
              <li
                nz-menu-item
                class="menu-item"
                routerLinkActive="ant-menu-item-selected"
                routerLink="/about"
              >
                <span id="menu">About</span>
              </li>
            </ul>
          </ul>
        </div>
      </nz-sider>
    </div>
    <div nz-col nzSpan="18" [style.min-height.px]="screenHeight">
      <router-outlet></router-outlet>
    </div>
  </div>

  <div nz-col nzSpan="24">
    <nz-footer nz-col nzSpan="24" id="footer">
      ¬© Since 2016 Tzu-Chi Yen | Last update: {{ lastUpdateDate }} |
      <a
        href="https://github.com/junipertcy/homepage"
        target="_blank"
        style="color: rgba(0, 0, 0, 0.65)"
      >
        <i nz-icon nzType="code" nzTheme="outline"></i>
      </a>
      | Powered by
      <a
        href="https://angular.io/"
        target="_blank"
        style="color: rgba(0, 0, 0, 0.65)"
      >
        Angular
      </a>
      and
      <a
        href="https://ng.ant.design/"
        target="_blank"
        style="color: rgba(0, 0, 0, 0.65)"
      >
        NG-ZORRO
      </a>
      &nbsp;
      <a routerLink="/textbooks">ü•æ</a>
      &nbsp;
      <a routerLink="/reading">üß¢</a>
      &nbsp;
      <!-- <a routerLink="/notes">üìù</a> -->
      <a routerLink="/books">üìö</a>
      &nbsp;
      <a routerLink="/notion">üé∞</a>
      &nbsp;
    </nz-footer>
  </div>
</nz-layout>
